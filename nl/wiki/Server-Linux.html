<!DOCTYPE html><!--[if IE 9]><html class="ie9"><![endif]--><html lang="nl"><head><title>Headless Linux server installatie – Jamulus Wiki</title><meta charset="utf-8"/><link rel="alternate" hreflang="en" href="https://jamulus.io/wiki/Server-Linux"/><link rel="alternate" hreflang="nl" href="https://jamulus.io/nl/wiki/Server-Linux"/><link rel="alternate" hreflang="es" href="https://jamulus.io/es/wiki/Server-Linux"/><link rel="alternate" hreflang="de" href="https://jamulus.io/de/wiki/Server-Linux"/><link rel="alternate" hreflang="it" href="https://jamulus.io/it/wiki/Server-Linux"/><link rel="alternate" hreflang="fr" href="https://jamulus.io/fr/wiki/Server-Linux"/><link rel="alternate" hreflang="pt" href="https://jamulus.io/pt/wiki/Server-Linux"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="/assets/css/fox.min.css"/><link rel="stylesheet" href="/assets/css/fw.css"/><noscript><link rel="stylesheet" href="/assets/css/noscript.css"/></noscript><meta name="description" content=""><link rel="apple-touch-icon" sizes="57x57" href="/nl/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/nl/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/nl/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/nl/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/nl/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/nl/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/nl/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/nl/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/nl/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/nl/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/nl/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/nl/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/nl/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><meta name="color-scheme" content="dark light"/><link rel="author" href="/humans.txt"/><script src="/assets/js/nav.js"></script><link rel="stylesheet" href="/assets/css/wiki.css"></head><body class="wikisite"><header class="fx-row fx-row-between-xs fx-text-center"><div class="fx-col fx-text-center"><a href="/nl/"><img alt="Jamulus Icoon. Link naar de homepage" width="40" height="40" src="/assets/img/jamulus-icon-2020.svg"/></a></div><div class="fx-col-center-xs fx-txt-right hide-on-dt"><a href="#mnv" onclick="showNav();return false;"><svg role="img" width="20" height="20" aria-labelledby="ntitle" id="navbtn" class="hide-on-dt"><title id="ntitle">Open navigatie</title><g><rect fill="currentcolor" id="r1" width="100%" height="3" x="0" y="0"/><rect fill="currentcolor" id="r2" width="100%" height="3" x="0" y="8"/><rect fill="currentcolor" id="r3" width="100%" height="3" x="0" y="16"/></g></svg></a></div></header><div class="fx-row fx-row-center-xs"><aside id="gnav" class="fx-col-100-xs fx-col-25-m"><div id="langselect"><div lang="en" id="suglang">This site might also be available in your native language. Select your preferred language below:</div><ul><li><a href=" /wiki/Server-Linux" data-slang="en">en</a></li><li class="selected" data-slang="nl">nl</li><li><a href="/es/wiki/Server-Linux" data-slang="es">es</a></li><li><a href="/de/wiki/Server-Linux" data-slang="de">de</a></li><li><a href="/it/wiki/Server-Linux" data-slang="it">it</a></li><li><a href="/fr/wiki/Server-Linux" data-slang="fr">fr</a></li><li><a href="/pt/wiki/Server-Linux" data-slang="pt">pt</a></li></ul></div><nav id="mnv"><ul><li><h3>Jamulus gebruiken</h3><ul><li><a href="/nl/wiki/Getting-Started" class="">Aan de slag</a><ul><li><a href="/nl/wiki/Installation-for-Windows" class="">Windows</a></li><li><a href="/nl/wiki/Installation-for-Macintosh" class="">macOS</a></li><li><a href="/nl/wiki/Installation-for-Linux" class="">Linux</a></li></ul></li><li><a href="/nl/wiki/Software-Manual" class="">Gebruikershandleiding</a></li><li><a href="/nl/wiki/FAQ" class="">Vragenlijst</a></li><li><a href="/nl/wiki/Client-Troubleshooting" class="">Problemen oplossen</a></li></ul></li><li><h3>Meer</h3><ul><li><a href="/nl/wiki/Running-a-Server" class="">Serverbeheer</a></li><li><a href="/nl/wiki/Tips-Tricks-More" class="">Tips & trucs</a></li><li><a href="/nl/kb/index.html" class="">Community Knowledge Base</a></li><li><a href="/nl/wiki/Privacy-Statement" class="">Privacyverklaring</a></li></ul></li></ul></nav></aside><div id="maincontainer" class="fx-col-100-xs fx-col-50-m"><noscript class="red"><strong>Je browser heeft JavaScript uitgeschakeld. Dat is prima. Deze site is ontworpen om basisfunctionaliteit te bieden zonder JavaScript. Als je JavaScript inschakelt, krijg je mogelijk extra functionaliteit op deze site.</strong></noscript><main lang="nl"><div id="breadcrumb"><strong>Meer</strong> | <a href="Running-a-Server">Serverbeheer</a></div><h1 id="een-headless-server-opzetten">Een headless server opzetten</h1><p>Het volgende is voor het draaien van Jamulus als een “pure” server op <strong>hardware zonder audio</strong> (bijv. op een derde partij/cloudhost) en veronderstelt dat er Ubuntu/Debian-distributies gebruikt worden die systemd gebruiken.</p><p>Als je een server op een Raspberry Pi wilt draaien, dan moet je zelf <a href="https://github.com/jamulussoftware/jamulus/blob/master/COMPILING.md">de broncode compileren</a>. Zie ook deze <a href="/nl/kb/2020/03/28/Server-Rpi.html">handleiding voor Raspberry Pi</a> onderhouden door Jamulus-gebruiker fredsiva.</p><ol><li>Download het <a href="https://github.com/jamulussoftware/jamulus/releases/download/r3_8_1/jamulus_headless_3.8.1_ubuntu_amd64.deb">nieuwste headless .deb bestand</a></li><li>Werk apt bij om er zeker van te zijn dat je een actuele lijst met standaard packages hebt: <code class="language-plaintext highlighter-rouge">sudo apt update</code></li><li>Installeer het Jamulus package: <code class="language-plaintext highlighter-rouge">sudo apt install ./jamulus_headless_3.8.1_ubuntu_amd64.deb</code></li><li>Schakel het headless serverproces in via systemd: <code class="language-plaintext highlighter-rouge">sudo systemctl enable jamulus-headless</code></li><li>Voeg de gewenste <a href="Running-a-Server#command-line-options">opdrachtregelopties</a> toe aan de <code class="language-plaintext highlighter-rouge">ExecStart</code>-regel in het systemd-servicebestand in <code class="language-plaintext highlighter-rouge">/lib/systemd/system/jamulus-headless.service</code> (standaard gebruikt is dit een prive server)..</li><li>Herlaad de systemd bestanden <code class="language-plaintext highlighter-rouge">sudo systemctl daemon-reload</code> en herstart de headless server: <code class="language-plaintext highlighter-rouge">sudo systemctl restart jamulus-headless</code></li><li>Controleer of alles in order is met <code class="language-plaintext highlighter-rouge">systemctl status jamulus-headless</code> (druk op <code class="language-plaintext highlighter-rouge">q</code> om terug te gaan naar de opdrachtregel).</li></ol><p>Mogelijk ben je ook geïnteresseerd in het downloaden <a href="https://github.com/jamulussoftware/jamulus/tree/master/tools">van deze set handige tools</a> vanuit de Jamulus repository (clone de Git repo en voer <code class="language-plaintext highlighter-rouge">git submodule update --init</code> uit).</p><h2 id="opmerkingen">Opmerkingen</h2><p>Je kunt Jamulus bedienen met het <code class="language-plaintext highlighter-rouge">systemctl</code> commando. Om de server bijvoorbeeld netjes te stoppen gebruik je:</p><p><code class="language-plaintext highlighter-rouge">sudo systemctl stop jamulus-headless</code></p><h3 id="uitvoeren-in-openbare-mode">Uitvoeren in openbare mode</h3><p>De volgende minimale instellingen zijn vereist om een <a href="Running-a-Server#server-types">openbare server</a> uit te voeren:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jamulus --nogui --server \
        --directoryserver genreServer:port \
        --serverinfo "jouwServerNaam;jouwStad;[land ID]"
</code></pre></div></div><p><strong>Opmerking</strong>: Puntkomma’s en nieuwe regeltekens zijn niet toegestaan in <code class="language-plaintext highlighter-rouge">--serverinfo</code></p><p>Stel de adresboek (genre) server als volgt in met behulp van de <code class="language-plaintext highlighter-rouge">--directoryserver</code> (<code class="language-plaintext highlighter-rouge">-e</code>) optie:</p><table><thead><tr><th>Genre</th><th>Server adres</th></tr></thead><tbody><tr><td><strong>Ieder Genre 1</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre1.jamulus.io:22124</code></td></tr><tr><td><strong>Ieder Genre 2</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre2.jamulus.io:22224</code></td></tr><tr><td><strong>Ieder Genre 3</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre3.jamulus.io:22624</code></td></tr><tr><td><strong>Genre Rock</strong></td><td><code class="language-plaintext highlighter-rouge">rock.jamulus.io:22424</code></td></tr><tr><td><strong>Genre Jazz</strong></td><td><code class="language-plaintext highlighter-rouge">jazz.jamulus.io:22324</code></td></tr><tr><td><strong>Genre Klassiek/Folk</strong></td><td><code class="language-plaintext highlighter-rouge">classical.jamulus.io:22524</code></td></tr><tr><td><strong>Genre Koor/Barbershop</strong></td><td><code class="language-plaintext highlighter-rouge">choral.jamulus.io:22724</code></td></tr></tbody></table><h3 id="de-logboeken-bekijken">De logboeken bekijken</h3><p>Jamulus logt in het systeemlogbestand als je de instelling <code class="language-plaintext highlighter-rouge">StandardOutput=journal</code> in het instellingenbestand hebt gelaten.</p><p>Gebruik <code class="language-plaintext highlighter-rouge">journalctl</code> om het logboek te bekijken (om af te sluiten drukt je op Ctrl-C). Om bijvoorbeeld het systeemlogbestand te lezen, gefilterd voor de Jamulus-service:</p><p><code class="language-plaintext highlighter-rouge">journalctl -f -u jamulus-headless</code></p><h3 id="upgraden">Upgraden</h3><p>Om je server te upgraden naar een nieuwere versie, downloadt je gewoon het nieuwste .deb bestand en installeer je deze opnieuw zoals in stap 3.</p><h3 id="opnemen">Opnemen</h3><p>Als de opnamefunctie wordt gebruikt met de opdrachtregeloptie `-R’ en de server een SIGUSR1-signaal ontvangt tijdens een opname, zal deze een nieuwe opname starten in een nieuwe map. SIGUSR2 schakelt opname in/uit.</p><p>Om deze signalen met systemd te verzenden, maakt je de volgende twee <code class="language-plaintext highlighter-rouge">.service</code>-bestanden in <code class="language-plaintext highlighter-rouge">/etc/systemd/system</code> en geef je ze een passende naam (bijv. <code class="language-plaintext highlighter-rouge">newRecording-Jamulus-server.service</code>).</p><p><strong>Opmerking:</strong> Je moet de opnamen opslaan in een pad <em>buiten</em> de jamulus homedirectory of <code class="language-plaintext highlighter-rouge">ProtectHome=true</code> uit het systemd bestand verwijderen (houd er rekening mee dat dit echter een potentieel veiligheidsrisico is).</p><p>Voor het in- of uitschakelen van de opname (afhankelijk van de huidige status):</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [Unit]
 Description=Schakel de opname status van de Jamulus server om
 Requisite=Jamulus-Server

 [Service]
 Type=oneshot
 ExecStart=/bin/systemctl kill -s SIGUSR2 Jamulus-Server
</code></pre></div></div><p>Voor het starten van een nieuwe opname:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [Unit]
 Description=Start een nieuwe opname voor de Jamulus server
 Requisite=Jamulus-Server

 [Service]
 Type=oneshot
 ExecStart=/bin/systemctl kill -s SIGUSR1 Jamulus-Server
</code></pre></div></div><p><em>Opmerking: De Jamulus-servicenaam in de <code class="language-plaintext highlighter-rouge">ExecStart</code>-regel moet hetzelfde zijn als de <code class="language-plaintext highlighter-rouge">.service</code>-bestandsnaam die je hebt gemaakt toen je systemd instelde om je Jamulus-server te bedienen. Dus in dit voorbeeld zou het <code class="language-plaintext highlighter-rouge">Jamulus-Server.service</code> zijn.</em></p><p>Voer <code class="language-plaintext highlighter-rouge">sudo systemctl daemon-reload</code> uit om hem te registreren voor het eerste gebruik.</p><p>Nu kunt je deze uitvoeren met het commando <code class="language-plaintext highlighter-rouge">service start</code>, bijvoorbeeld:</p><p><code class="language-plaintext highlighter-rouge">sudo service jamulusTogglerec start</code> (ervan uitgaande dat je je het bestand de naam <code class="language-plaintext highlighter-rouge">jamulusTogglerec.service</code> hebt gegeven)</p><p>Je kunt het resultaat van deze commando’s zien als je <code class="language-plaintext highlighter-rouge">service jamulus status</code> uitvoert of door de logs te bekijken.</p><h2 id="een-serverstatuspagina-maken">Een serverstatuspagina maken</h2><p>Met de <code class="language-plaintext highlighter-rouge">-m</code> opdrachtregeloptie kunnen serverstatistieken worden gegenereerd om op een webpagina te worden geplaatst.</p><p>Hier is een voorbeeld van een php-script dat het serverstatusbestand gebruikt om de huidige serverstatus op een html-pagina weer te geven (ervan uitgaande dat het volgende opdrachtregelargument wordt gebruikt: <code class="language-plaintext highlighter-rouge">-m /var/www/stat1.dat</code>):</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?php
function loadserverstat ( $statfilename )
{
   $datei = fopen ( $statfilename, "r" );
   while ( !feof ( $datei ) )
   {
          $buffer = fgets ( $datei, 4096 );
          echo $buffer;
   }
   fclose($datei);
}
?&gt;
&lt;?php loadserverstat ( "stat1.dat" ); ?&gt;
</code></pre></div></div></main><div id="ftext" class="fx-txt-center"><p><strong>Vertel ons over Jamulus - <a href="https://forms.gle/hSSjsxjWj2Pnp5kr7">vul onze anonieme enquête in! (engelstalig)</a></strong></p><p><em>Deze documentatie is gelicentieerd onder een <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">Creative Commons Licence</a>. Wil je <a href="Contribution">meewerken</a>?</em></p></div></div></div><footer class="fx-row fx-row-around-xs" id="footer"><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://github.com/jamulussoftware/jamulus" target="_blank" rel="noreferrer"><img src="/assets/img/github.svg" alt="Jamulus GitHub repo" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://www.facebook.com/groups/619274602254947/" target="_blank" rel="noreferrer"><img src="/assets/img/facebook.svg" alt="Jamulus Facebook groep" id="fb_icon" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://github.com/jamulussoftware/jamulus/discussions" target="_blank" rel="noreferrer"><img src="/assets/img/forum.svg" alt="Help en ondersteuning" loading="lazy" class="fx-center"/></a></div><div id="copyright" class="fx-col-100-xs fx-row-center-xs"> Software door <a href="https://github.com/corrados" target="_blank" rel="noreferrer">Volker Fischer</a> en <a href="https://github.com/jamulussoftware/jamulus/graphs/contributors" target="_blank" rel="noreferrer">bijdragers</a></div></footer><script>var ja=window.navigator.language||window.navigator.userLanguage,mu=document.documentElement.lang,lus=["en","nl","es","de","it","fr","pt"],regex=RegExp("^"+mu);regex.test(ja)||lus.forEach(function(e){ja.match("^"+e)&&(document.getElementById("langselect").classList.add("chlang","red"),document.getElementById("suglang").style.display="block",document.querySelectorAll("[data-slang="+e+"]")[0].classList.add("proplang"))});</script></body></html>