<!DOCTYPE html><!--[if IE 9]><html class="ie9"><![endif]--><html lang="fr"><head><title>Installation d'un serveur "headless" Linux – Wiki de Jamulus</title><meta charset="utf-8"/><link rel="alternate" hreflang="en" href="https://jamulus.io/wiki/Server-Linux"/><link rel="alternate" hreflang="nl" href="https://jamulus.io/nl/wiki/Server-Linux"/><link rel="alternate" hreflang="es" href="https://jamulus.io/es/wiki/Server-Linux"/><link rel="alternate" hreflang="de" href="https://jamulus.io/de/wiki/Server-Linux"/><link rel="alternate" hreflang="it" href="https://jamulus.io/it/wiki/Server-Linux"/><link rel="alternate" hreflang="fr" href="https://jamulus.io/fr/wiki/Server-Linux"/><link rel="alternate" hreflang="pt" href="https://jamulus.io/pt/wiki/Server-Linux"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="/assets/css/fox.min.css"/><link rel="stylesheet" href="/assets/css/fw.css"/><noscript><link rel="stylesheet" href="/assets/css/noscript.css"/></noscript><meta name="description" content=""><link rel="apple-touch-icon" sizes="57x57" href="/fr/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/fr/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/fr/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/fr/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/fr/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/fr/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/fr/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/fr/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/fr/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/fr/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/fr/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/fr/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/fr/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><meta name="color-scheme" content="dark light"/><link rel="author" href="/humans.txt"/><script src="/assets/js/nav.js"></script><link rel="stylesheet" href="/assets/css/wiki.css"></head><body class="wikisite"><header class="fx-row fx-row-between-xs fx-text-center"><div class="fx-col fx-text-center"><a href="/fr/"><img alt="Icône de Jamulus. Redirige vers la page d'accueil" width="40" height="40" src="/assets/img/jamulus-icon-2020.svg"/></a></div><div class="fx-col-center-xs fx-txt-right hide-on-dt"><a href="#mnv" onclick="showNav();return false;"><svg role="img" width="20" height="20" aria-labelledby="ntitle" id="navbtn" class="hide-on-dt"><title id="ntitle">Navigation ouverte</title><g><rect fill="currentcolor" id="r1" width="100%" height="3" x="0" y="0"/><rect fill="currentcolor" id="r2" width="100%" height="3" x="0" y="8"/><rect fill="currentcolor" id="r3" width="100%" height="3" x="0" y="16"/></g></svg></a></div></header><div class="fx-row fx-row-center-xs"><aside id="gnav" class="fx-col-100-xs fx-col-25-m"><div id="langselect"><div lang="en" id="suglang">This site might also be available in your native language. Select your preferred language below:</div><ul><li><a href=" /wiki/Server-Linux" data-slang="en">en</a></li><li><a href="/nl/wiki/Server-Linux" data-slang="nl">nl</a></li><li><a href="/es/wiki/Server-Linux" data-slang="es">es</a></li><li><a href="/de/wiki/Server-Linux" data-slang="de">de</a></li><li><a href="/it/wiki/Server-Linux" data-slang="it">it</a></li><li class="selected" data-slang="fr">fr</li><li><a href="/pt/wiki/Server-Linux" data-slang="pt">pt</a></li></ul></div><nav id="mnv"><ul><li><h3>Utiliser Jamulus</h3><ul><li><a href="/fr/wiki/Getting-Started" class="">Configuration</a><ul><li><a href="/fr/wiki/Installation-for-Windows" class="">Windows</a></li><li><a href="/fr/wiki/Installation-for-Macintosh" class="">macOS</a></li><li><a href="/fr/wiki/Installation-for-Linux" class="">Linux</a></li></ul></li><li><a href="/fr/wiki/Software-Manual" class="">Manuel du logiciel</a></li><li><a href="/fr/wiki/FAQ" class="">FAQ</a></li><li><a href="/fr/wiki/Client-Troubleshooting" class="">Dépannage</a></li></ul></li><li><h3>En savoir plus</h3><ul><li><a href="/fr/wiki/Running-a-Server" class="">Administrer un serveur</a></li><li><a href="/fr/wiki/Tips-Tricks-More" class="">Trucs et astuces</a></li><li><a href="/fr/kb/index.html" class="">Base de connaissances communautaire</a></li><li><a href="/fr/wiki/Privacy-Statement" class="">Déclaration de Confidentialité</a></li></ul></li></ul></nav></aside><div id="maincontainer" class="fx-col-100-xs fx-col-50-m"><noscript class="red"><strong>JavaScript est désactivé sur votre navigateur. Il n'y a aucun problème à ça. Ce site a été créé de manière à fournir les fonctionnalités basiques sans JS. Activer Javascript vous permettrait d'accéder à des fonctionnalités supplémentaires de ce site.</strong></noscript><main lang="fr"><div id="breadcrumb"><strong>More</strong> | <a href="Running-a-Server">Running a Server</a></div><h1 id="exécution-dun-serveur-headless">Exécution d’un serveur headless</h1><p>Ce qui suit concerne l’exécution de Jamulus en tant que serveur “pur” sur du <strong>matériel sans audio</strong> (par exemple, sur un hôte tiers/cloud) et suppose des distributions Ubuntu/Debian utilisant systemd.</p><p>Si vous souhaitez faire fonctionner un serveur sur un Raspberry Pi, vous devrez <a href="https://github.com/jamulussoftware/jamulus/blob/master/COMPILING.md">compiler à partir des sources</a>. Voir aussi ce <a href="/fr/kb/2020/03/28/Server-Rpi.html">guide pour Raspberry Pi</a> maintenu par l’utilisateur Jamulus fredsiva.</p><ol><li>Téléchargez le <a href="https://github.com/jamulussoftware/jamulus/releases/download/r3_8_1/{ site.download_file_names.deb-headless }}">dernier fichier .deb headless</a></li><li>Mettez à jour apt pour vous assurer que vous avez une liste actuelle de paquets standard : <code class="language-plaintext highlighter-rouge">sudo apt update</code></li><li>Installez le paquet Jamulus : <code class="language-plaintext highlighter-rouge">sudo apt install ./jamulus_headless_3.8.1_ubuntu_amd64.deb</code></li><li>Activez le processus de serveur sans interface graphique via systemd : <code class="language-plaintext highlighter-rouge">sudo systemctl enable jamulus-headless</code></li><li>Ajoutez vos [options de ligne de commande] (Command-Line-Options) à la ligne <code class="language-plaintext highlighter-rouge">ExecStart</code> dans le fichier de service systemd dans <code class="language-plaintext highlighter-rouge">/lib/systemd/system/jamulus-headless.service</code> (Par défaut, vous allez exécuter un serveur privé).</li><li>Rechargez les fichiers systemd <code class="language-plaintext highlighter-rouge">sudo systemctl daemon-reload</code> et redémarrez le serveur headless : <code class="language-plaintext highlighter-rouge">sudo systemctl restart jamulus-headless</code></li><li>Vérifiez que tout va bien avec <code class="language-plaintext highlighter-rouge">service jamulus-headless status</code> (tapez <code class="language-plaintext highlighter-rouge">q</code> pour revenir à l’invite de commande).</li></ol><p>Vous pouvez également être intéressé par le téléchargement de <a href="https://github.com/jamulussoftware/jamulus/tree/master/tools">cet ensemble d’outils utiles</a> depuis le dépôt Jamulus (clonez le dépôt Git et appelez <code class="language-plaintext highlighter-rouge">git submodule update --init</code>).</p><h2 id="notes">Notes</h2><p>Vous pouvez contrôler Jamulus avec la commande <code class="language-plaintext highlighter-rouge">systemctl</code>. Par exemple, pour arrêter le serveur proprement :</p><p><code class="language-plaintext highlighter-rouge">sudo systemctl stop jamulus-headless</code></p><h3 id="exécution-en-mode-public">Exécution en mode public</h3><p>La configuration minimale suivante est requise pour <a href="Running-a-Server#types-de-serveurs">exécuter un serveur public</a> :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Jamulus --nogui --server \
        --directoryserver genreServer:port \
        --serverinfo "yourServerName;yourCity;[country ID]"
</code></pre></div></div><p><strong>Note</strong> : Les caractères point-virgule et saut de ligne ne sont pas autorisés dans <code class="language-plaintext highlighter-rouge">--serverinfo</code></p><p>Définissez votre serveur annuaire (genre) en utilisant l’option <code class="language-plaintext highlighter-rouge">--directoryserver</code> (<code class="language-plaintext highlighter-rouge">-e</code>) comme suit :</p><table><thead><tr><th>Genre</th><th>Adresse du serveur</th></tr></thead><tbody><tr><td><strong>Tout Genre 1</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre1.jamulus.io:22124</code></td></tr><tr><td><strong>Tout Genre 2</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre2.jamulus.io:22224</code></td></tr><tr><td><strong>Tout Genre 3</strong></td><td><code class="language-plaintext highlighter-rouge">anygenre3.jamulus.io:22624</code></td></tr><tr><td><strong>Genre Rock</strong></td><td><code class="language-plaintext highlighter-rouge">rock.jamulus.io:22424</code></td></tr><tr><td><strong>Genre Jazz</strong></td><td><code class="language-plaintext highlighter-rouge">jazz.jamulus.io:22324</code></td></tr><tr><td><strong>Genre Classique/Folk</strong></td><td><code class="language-plaintext highlighter-rouge">classical.jamulus.io:22524</code></td></tr><tr><td><strong>Genre Choral/Barbershop</strong></td><td><code class="language-plaintext highlighter-rouge">choral.jamulus.io:22724</code></td></tr></tbody></table><h3 id="visualisation-des-journaux">Visualisation des journaux</h3><p>Jamulus se connectera au fichier système si vous avez laissé le paramètre <code class="language-plaintext highlighter-rouge">StandardOutput=journal</code> dans le fichier d’unité.</p><p>Pour visualiser le journal, utilisez <code class="language-plaintext highlighter-rouge">journalctl</code> (pour quitter, appuyez sur Ctrl-C). Par exemple, pour lire le fichier journal du système, filtré pour le service Jamulus :</p><p><code class="language-plaintext highlighter-rouge">journalctl -f -u jamulus-headless</code></p><h3 id="mise-à-jour">Mise à jour</h3><p>Pour mettre à jour votre serveur vers une version plus récente, téléchargez simplement un nouveau fichier .deb et réinstallez comme à l’étape 3.</p><h3 id="enregistrement">Enregistrement</h3><p>Lorsque vous utilisez la fonction d’enregistrement avec l’option de ligne de commande <code class="language-plaintext highlighter-rouge">-R</code>, si le serveur reçoit un signal SIGUSR1 pendant un enregistrement, il commencera un nouvel enregistrement dans un nouveau répertoire. SIGUSR2 permet d’activer ou de désactiver l’enregistrement.</p><p>Pour envoyer ces signaux en utilisant systemd, créez les deux fichiers <code class="language-plaintext highlighter-rouge">.service</code> suivants dans <code class="language-plaintext highlighter-rouge">/etc/systemd/system</code>, en les appelant de manière appropriée (par exemple <code class="language-plaintext highlighter-rouge">newRecording-Jamulus-server.service</code>).</p><p><strong>Note:</strong> Vous devrez sauvegarder les enregistrements dans un chemin <em>extérieur</em> au répertoire personnel de jamulus, ou enlever <code class="language-plaintext highlighter-rouge">ProtectHome=true</code> de votre fichier d’unité systemd (soyez conscient que faire cela est cependant un risque potentiel de sécurité).</p><p>Pour activer ou désactiver l’enregistrement (selon l’état actuel) :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [Unit]
 Description=Toggle recording state of Jamulus server
 Requisite=Jamulus-Server

 [Service]
 Type=oneshot
 ExecStart=/bin/systemctl kill -s SIGUSR2 Jamulus-Server
</code></pre></div></div><p>Pour demarrer un nouvel enregistrement :</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [Unit]
 Description=Start a new recording on Jamulus server
 Requisite=Jamulus-Server

 [Service]
 Type=oneshot
 ExecStart=/bin/systemctl kill -s SIGUSR1 Jamulus-Server
</code></pre></div></div><p><em>Note : Le nom du service Jamulus dans la ligne <code class="language-plaintext highlighter-rouge">ExecStart</code> doit être le même que le nom du fichier <code class="language-plaintext highlighter-rouge">.service</code> que vous avez créé lors de la configuration de systemd pour contrôler votre serveur Jamulus. Donc dans cet exemple, ce serait <code class="language-plaintext highlighter-rouge">Jamulus-Server.service</code></em></p><p>Lancez <code class="language-plaintext highlighter-rouge">sudo systemctl daemon-reload</code> pour les enregistrer pour la première utilisation.</p><p>Vous pouvez les lancer avec la commande <code class="language-plaintext highlighter-rouge">service start</code>, par exemple :</p><p><code class="language-plaintext highlighter-rouge">sudo service jamulusTogglerec start</code> (en supposant que vous avez nommé votre fichier unité <code class="language-plaintext highlighter-rouge">jamulusTogglerec.service</code>)</p><p>Vous pouvez voir le résultat de ces commandes si vous exécutez <code class="language-plaintext highlighter-rouge">service jamulus status</code>, ou en consultant les logs.</p><h2 id="faire-une-page-dêtat-du-serveur">Faire une page d’êtat du serveur</h2><p>Avec l’argument <code class="language-plaintext highlighter-rouge">-m</code> de la ligne de commande, des informations statistiques sur le serveur peuvent être générées pour être mises sur une page web.</p><p>Voici un exemple de script php utilisant le fichier d’état du serveur pour afficher l’état actuel du serveur sur une page html (en supposant que l’argument de ligne de commande suivant soit utilisé : <code class="language-plaintext highlighter-rouge">-m /var/www/stat1.dat</code>):</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?php
function loadserverstat ( $statfilename )
{
   $datei = fopen ( $statfilename, "r" );
   while ( !feof ( $datei ) )
   {
          $buffer = fgets ( $datei, 4096 );
          echo $buffer;
   }
   fclose($datei);
}
?&gt;
&lt;?php loadserverstat ( "stat1.dat" ); ?&gt;
</code></pre></div></div></main><div id="ftext" class="fx-txt-center"><p><strong>Dites-nous ce que vous pensez de Jamulus - <a href="https://forms.gle/hSSjsxjWj2Pnp5kr7">répondez à notre enquête anonyme !</a></strong></p><p><em>Cette documentation est placée sous <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.fr" target="_blank" rel="noreferrer">Licence Creative Commons</a>. Vous voulez <a href="Contribution">vous impliquer</a> ?</em></p></div></div></div><footer class="fx-row fx-row-around-xs" id="footer"><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://github.com/jamulussoftware/jamulus" target="_blank" rel="noreferrer"><img src="/assets/img/github.svg" alt="Dépôt GitHub de Jamulus" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://www.facebook.com/groups/619274602254947/" target="_blank" rel="noreferrer"><img src="/assets/img/facebook.svg" alt="Groupe Facebook de Jamulus" id="fb_icon" loading="lazy" class="fx-center"/></a></div><div class="fx-col-100-xs fx-col-33-s fx-col-center-xs"><a href="https://github.com/jamulussoftware/jamulus/discussions" target="_blank" rel="noreferrer"><img src="/assets/img/forum.svg" alt="Aide et support" loading="lazy" class="fx-center"/></a></div><div id="copyright" class="fx-col-100-xs fx-row-center-xs"> Créé par <a href="https://github.com/corrados" target="_blank" rel="noreferrer">Volker Fischer</a> et <a href="https://github.com/corrados/jamulus/graphs/contributors" target="_blank" rel="noreferrer">les contributeurs</a></div></footer><script>var ja=window.navigator.language||window.navigator.userLanguage,mu=document.documentElement.lang,lus=["en","nl","es","de","it","fr","pt"],regex=RegExp("^"+mu);regex.test(ja)||lus.forEach(function(e){ja.match("^"+e)&&(document.getElementById("langselect").classList.add("chlang","red"),document.getElementById("suglang").style.display="block",document.querySelectorAll("[data-slang="+e+"]")[0].classList.add("proplang"))});</script></body></html>